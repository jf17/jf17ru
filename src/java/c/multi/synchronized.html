<!DOCTYPE html>
<html lang="ru"><head>
<!-- author: Alexandrovich Alexey Borisovich aka JF17-->
<title> synchronized . Java - jf17.ru</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta http-equiv="Content-Language" content="ru">
<meta name="theme-color" content="#000000"/>
<meta name="Description" content="Author: Alexandrovich Alexey Borisovich aka JF17">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="https://jf17.ru/assets/main.css"> 
</head>
<body>
<!-- Heading -->
<header>
<h1> <a href="https://jf17.ru/" >Главная</a></h1>
<h2> <a href="https://jf17.ru/java/index.html" >Java</a></h2>
<h2> <a href="https://jf17.ru/java/c/multithreading.html" > Многопоточность</a></h2>
<hr />
</header>
                         

<article>

<font color="#ffa31a">	<h2> synchronized.</h2></font>
<p>синхронизированый блок кода может быть выполнен только одним потоком одновременно !!!</p>
<br>



<font color="orange"><h4>блокировка на уровне метода:</h4></font>

<pre class="code"><code>
public class DemoClass{
    public <span class="codeoperator">synchronized</span> void demoMethod(){
    <span class="codecomment">//other thread safe code</span>
    }
}
</code></pre>
<br><br><br>



<font color="orange"><h4>блокировка на уровне статического метода:</h4></font>
<p>
В статическом методе, синхронизация будет осуществляться по классу.
</p>
<pre class="code"><code>
public class DemoClass{
    public <span class="codeoperator">static synchronized</span> void demoMethod(){
    <span class="codecomment">//other thread safe code</span>
    }
}
</code></pre>
<br><br><br>




<font color="orange"><h4>блокировка на уровне обьекта:</h4></font>
<p>опасная штука !!!</p>
<p>
<font color="#ff3333">Не синхронизируйте</font> по не финальному (<font color="#ff3333">no final</font>) полю, потому что ссылка, на не финальное поле может измениться в любое время, а затем другой поток может получить синхронизацию на разных объектах и уже не будет никакой синхронизации вообще. Лучше всего использовать класс String, который уже неизменяемый и финальный.
</p>
<pre class="code"><code>
public class DemoClass{
    private <span class="codeoperator">final</span> <span class="codeclass">Object</span> <span class="codeobject">lock</span> = new <span class="codeclass">Object</span>();
    public void demoMethod(){
        <span class="codeoperator">synchronized</span> (<span class="codeobject">lock</span>)        {
            <span class="codecomment">//other thread safe code</span>
        }
    }
}
</code></pre>

<br><br><br>


<font color="orange"><h4>блокировка на уровне Класса:</h4></font>
<pre class="code"><code>
class <span class="codeclass">MyClass</span> {
   private static String name1 = "Оля";
   private static String name2 = "Лена";

   public <span class="codeoperator">static</span> void swap() {
       <span class="codeoperator">synchronized</span> (<span class="codeclass">MyClass</span>.<span class="codeoperator">class</span>) {
           String s = name1;
           name1 = name2;
           name2 = s;
       }
   }

}
</code></pre>

<br><br><br>



<font color="orange"><h4>Некоторые важные замечания :</h4></font>
<ul>
<li> Синхронизация в Java гарантирует, что никакие два потока не смогут выполнить синхронизированный метод одновременно или параллельно. </li>
<li> Синхронизированные методы в Java вносят дополнительные затраты на производительность вашего приложения. Так что используйте синхронизацию, когда она абсолютно необходима. Кроме того, рассмотрите вопрос об использовании синхронизированных блоков кода для синхронизации только критических секций кода.</li>
<li>  </li>
<li>  </li>
<li>  </li>
</ul>
</article>
<br>


<section>
	<h4>Полезные ссылки:</h4>
	<ul>
	<li> <a href="xxxxx" target="_blank" rel="noopener"> xxxxxx</a> (хабр) </li>

	<li> </li>
	<li>  </li>
	</ul>
	</div>
</section>


<footer>
<!-- работа с куки -->
<script type="text/javascript">
	var x = document.cookie;
	if(x=='size=150'){
	document.body.style.fontSize='150%';
	}
	</script>
</footer>
</body>
<!-- Footer -->
</html>